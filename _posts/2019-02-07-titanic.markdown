---
title: "Ô∏èüö¢ Would You Survive the Titanic?"
layout: post
date: 2019-02-07 23:00
published: true
headerImage: false
tag:
- Python
- DataScience
- Kaggle
category: blog
author: edenau
description: "The journey on the unsinkable‚Ää‚Äî‚Ääwhat AI can learn from the disaster"
# jemoji: '<img class="emoji" title=":open_file_folder:" alt=":open_file_folder:" src="https://assets.github.com/images/icons/emoji/unicode/1f5c2.png" height="20" width="20" align="absmiddle">'
---

***This post is now available on <a href="https://hackernoon.com/would-you-survive-the-titanic-aa4ae2e86e9" target="_blank">Hacker Noon ‚Äî Medium</a>. Check it out!***

***Source code is now available on <a href="https://github.com/edenau/titanic" target="_blank">Github</a>. Check it out!***

Have you ever thought of being one of the passengers on the Titanic in 1912? Would you survive? Would your children survive? What would happen if you were in the upper deck? We are often told that women and children were given priority to the lifeboats, but I was not satisfied with this short, qualitative answer. With the advent of ***machine learning***, we are able to dig deeper. We can spot patterns and infer what would have happened to you and your family should you all were onboard.

>> Curiosity is the wick in the candle of learning.
‚Äî William Arthur Ward

## TL;DR
I developed a machine learning model that does so, and deployed it as a <a href="http://18.212.193.40:8888/" target="_blank">Web App</a>. Check out <a href="http://18.212.193.40:8888/" target="_blank">http://18.212.193.40:8888/</a> and complete the quiz to find out your chance of survival.

![t1]({{ site.url }}/assets/posts/titanic/titanic-1.png)
Mmm‚Ä¶ borderline for me‚Ä¶
![t2]({{ site.url }}/assets/posts/titanic/titanic-2.png)

## Table of Contents
- [Introduction](#intro)
- [Data](#data)
- [Machine Learning](#ml)
- [Web App Deployment](#webapp)
- [The Takeaway](#takeaway)

<div class="breaker"></div> <a id="intro"></a>

# Introduction
## Motivation
For data scientists, <a href="https://www.kaggle.com/c/titanic" target="_blank">Titanic Kaggle dataset</a> is arguably one of the most widely used datasets in the field of machine learning, along with <a href="http://yann.lecun.com/exdb/mnist/" target="_blank">MNIST hand-written digit</a>, <a href="https://archive.ics.uci.edu/ml/datasets/iris" target="_blank">Iris flower</a> etc.. For some non-data scientists, machine learning is a black box that does magic; but for some sceptics who ‚Äòlearn from the past‚Äô (and inadvertently human-trained a classification model in their head), they foresee that

>> AI is the new dot-com.

One of my professors argued that machine learning-driven time-series forecasting model would not perform with flying colours, as it is just ***looking in the rearview mirror***.

However, the omnipresence of machine learning models proves their values to our society, and the fact that they have already brought a lot of convenience to us is undeniable‚Ää‚Äî‚ÄäGoogle auto-completes email sentences which really saves me a lot of time. I hope I can share my experience, help spread the knowledge, and demonstrate how new technologies can achieve things that we could not in the last century.

>> AI is the new electricity.
‚Äî Andrew Ng

PS: machine learning is a subset of artificial intelligence, in case you are confused.

## What is Kaggle?
Kaggle is a platform for data scientists to share data, exchange thoughts, and compete in predictive analytics problems. There are many high-quality datasets that are freely accessible on Kaggle. Some Kaggle competitions even offer prize money, and they attract a lot of famous machine learning practitioners to participate. People often think that Kaggle is not for beginners, or it has a very steep learning curve.

They are not wrong. But they do offer challenges for people who are ‚Äògetting started‚Äô. As a (junior) data scientist, I could not resist searching for interesting datasets to start my journey on Kaggle. ***And I bumped into the Titanic.***

>> Kaggle is an Airbnb for data scientists‚Ää‚Äî‚Ääthis is where they spend their nights and weekends.
‚Äî Zeeshan-ul-hassan Usmani

## Overview
Here goes the overview of the technical bit. I first found the dataset on Kaggle and decided to work on it and analyze it with *Python*. I used it to develop and train an ensemble of classifiers using *scikit-learn* that would predict one‚Äôs chances of survival. I then saved it by *pickle* and deployed it as a Web App on localhost using *Flask*. Finally, I leveraged AWS free tier (available for 12 months) to cloud-host it.

There are many tutorials online that focus on how to code and develop a machine learning model in Python and other languages. Therefore, I will only explain my work in a relatively qualitative manner with graphs and results, instead of bombarding you with codes. If you really want to go through my codes, they are available on <a href="https://github.com/edenau/Titanic" target="_blank">GitHub</a>.

## Tools
I decided to use Python since it is the most popular programming language for machine learning with numerous libraries. And I don‚Äôt know R. And no one uses MATLAB for machine learning. Instead of my local machine, I went for <a href="{{ site.url }}/google-colab/">Google Colab</a> so that I could work cross-platform without any hassle.

***Sit tight, here we go!***

<div class="breaker"></div> <a id="data"></a>

# Data
## Data Inspection
Let‚Äôs import the data into a DataFrame. It consists of passenger ID, survival, ticket class, name, sex, age, number of siblings and spouses onboard, number of parents and children onboard, ticket number, passenger fare, cabin number, and port of embarkation.

![d1]({{ site.url }}/assets/posts/titanic/data-1.png)

What immediately came to my mind was the following points:

- `PassengerId` is key (unique),
- `Survived` is the target that we would like to infer,
- `Name` might not help but their titles might,
- `Ticket` is a mess, and
- there are missing data labelled as `NaN`.

I decided to drop variable `Ticket` for now for simplicity. It could possibly be holding useful information, but it would require extensive feature engineering to extract them. ***We should start with the easiest, and take it from there.***

![d2]({{ site.url }}/assets/posts/titanic/data-2.png)

On the other hand, let‚Äôs take a closer look at the missing data. There are a few missing entries in variables `Embarked` and `Fare`, which should be able to be inferred by other variables. Around 20% passenger ages were not recorded. This might pose a problem to us, since `Age` is likely to be one of the key predictors in the dataset. ‚ÄòWomen and children first‚Äô was a code of conduct back then, and reports suggested that they were indeed saved first. There are >77% of missing entries in `Cabin`, which is unlikely to be very helpful, and let‚Äôs drop it for now.

## Data Visualization
Pair plot (not shown) is usually my go-to at the beginning of a data visualization task, as it is usually helpful, and it has a high information-to-lines-of-code ratio. One single line of `seaborn.pairplot()` gives you n¬≤ plots (technically n(n+1)/2 distinct plots), where n represents the number of variables. It gives you a basic understanding of the relationship between every pair of variables, and the distribution of each variable itself. Let‚Äôs dive into different variables.
